<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Correspondence analysis of a document-feature matrix — textmodel_ca • quanteda.textmodels</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Correspondence analysis of a document-feature matrix — textmodel_ca" />
<meta property="og:description" content="textmodel_ca implements correspondence analysis scaling on a
dfm.  The method is a fast/sparse version of function ca." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda.textmodels</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/textmodel_performance.html">textmodel Performance Comparisons</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/quanteda.textmodels/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Correspondence analysis of a document-feature matrix</h1>
    <small class="dont-index">Source: <a href='https://github.com/quanteda/quanteda.textmodels/blob/master/R/textmodel_ca.R'><code>R/textmodel_ca.R</code></a></small>
    <div class="hidden name"><code>textmodel_ca.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>textmodel_ca</code> implements correspondence analysis scaling on a
<a href='https://quanteda.io/reference/dfm.html'>dfm</a>.  The method is a fast/sparse version of function <a href='https://rdrr.io/pkg/ca/man/ca.html'>ca</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>textmodel_ca</span><span class='op'>(</span><span class='va'>x</span>, smooth <span class='op'>=</span> <span class='fl'>0</span>, nd <span class='op'>=</span> <span class='cn'>NA</span>, sparse <span class='op'>=</span> <span class='cn'>FALSE</span>, residual_floor <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>the dfm on which the model will be fit</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>a smoothing parameter for word counts; defaults to zero.</p></td>
    </tr>
    <tr>
      <th>nd</th>
      <td><p>Number of dimensions to be included in output; if <code>NA</code> (the
default) then the maximum possible dimensions are included.</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>retains the sparsity if set to <code>TRUE</code>; set it to
<code>TRUE</code> if <code>x</code> (the <a href='https://quanteda.io/reference/dfm.html'>dfm</a>) is too big to be allocated after
converting to dense</p></td>
    </tr>
    <tr>
      <th>residual_floor</th>
      <td><p>specifies the threshold for the residual matrix for
calculating the truncated svd.Larger value will reduce memory and time cost
but might reduce accuracy; only applicable when <code>sparse = TRUE</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>textmodel_ca()</code> returns a fitted CA textmodel that is a special
class of <span class="pkg">ca</span> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><a href='https://rdrr.io/pkg/RSpectra/man/svds.html'>svds</a> in the <span class="pkg">RSpectra</span> package is applied to
enable the fast computation of the SVD.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>You may need to set <code>sparse = TRUE</code>) and
increase the value of <code>residual_floor</code> to ignore less important
information and hence to reduce the memory cost when you have a very big
<a href='https://quanteda.io/reference/dfm.html'>dfm</a>.
If your attempt to fit the model fails due to the matrix being too large,
this is probably because of the memory demands of computing the \(V
  \times V\) residual matrix.  To avoid this, consider increasing the value of
<code>residual_floor</code> by 0.1, until the model can be fit.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Nenadic, O. &amp; Greenacre, M. (2007). <a href='https://www.jstatsoft.org/v20/i03/'>Correspondence Analysis in R, with Two- and Three-dimensional Graphics: The ca package</a>. <em>Journal of Statistical Software</em>, 20(3).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='textmodel_lsa-postestimation.html'>coef.textmodel_lsa()</a></code>, <a href='https://rdrr.io/pkg/ca/man/ca.html'>ca</a></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Kenneth Benoit and Haiyan Wang</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>dfmat</span> <span class='op'>&lt;-</span> <span class='fu'>quanteda</span><span class='fu'>::</span><span class='fu'><a href='https://quanteda.io/reference/dfm.html'>dfm</a></span><span class='op'>(</span><span class='va'>data_corpus_irishbudget2010</span><span class='op'>)</span>
<span class='va'>tmod</span> <span class='op'>&lt;-</span> <span class='fu'>textmodel_ca</span><span class='op'>(</span><span class='va'>dfmat</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tmod</span><span class='op'>)</span>
</div><div class='output co'>#&gt;            Length Class  Mode     
#&gt; sv             7  -none- numeric  
#&gt; nd             1  -none- numeric  
#&gt; rownames      14  -none- character
#&gt; rowmass       14  -none- numeric  
#&gt; rowdist       14  -none- numeric  
#&gt; rowinertia    14  -none- numeric  
#&gt; rowcoord      98  -none- numeric  
#&gt; rowsup         0  -none- logical  
#&gt; colnames    5141  -none- character
#&gt; colmass     5141  -none- numeric  
#&gt; coldist     5141  -none- numeric  
#&gt; colinertia  5141  -none- numeric  
#&gt; colcoord   35987  -none- numeric  
#&gt; colsup         0  -none- logical  
#&gt; call           2  -none- call     </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Patrick O. Perry, Benjamin Lauderdale, Johannes Gruber, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


